import { Meta, Title, Description, Controls, Canvas } from '@storybook/blocks';

import * as FancyModalStoies from './FancyModal.stories';

<Meta of={FancyModalStoies} />

<Title />

<Description />

### Setting Up FancyModal

1. **Create the Store:**

   Begin by creating an instance of your modal store:

   ```javascript
   import { createFancyModalStore } from 'fui-fancyui';

   const useFancyModalStore = createFancyModalStore();
   ```

2. **Specify the DOM Element for Rendering**:

   Designate a DOM element to serve as the container for the modal. For example:

   ```html
   <div id="modalTest"></div>
   ```

3. **Render the FancyModal Component:**

   In your desired location, render the `<FancyModal />` component. Provide it with the necessary props:

   ```jsx
   import { FancyModal } from 'fui-fancyui';

   const useFancyModalStore = createFancyModalStore();

   function MyComponent() {
     const closeModal = useFancyModalStore((state) => state.closeModal);
     const modals = useFancyModalStore((state) => state.modals);

     return (
       <body>
         {/* ...other components */}
         <FancyModal modals={modals} closeModal={closeModal} />
       </body>
     );
   }
   ```

### Implementing the Modal

1. **Use the Store in Your Component:**

   Access the `openModal` and `closeModal` functions from the store you created:

   ```javascript
   const openModal = useFancyModalStore((state) => state.openModal);
   const closeModal = useFancyModalStore((state) => state.closeModal);
   ```

2. **Open the Modal:**

   Call the `openModal` function to trigger the modal. It requires the following:

   - `id`: A unique identifier for your modal.
   - `children`: The content you want to display inside the modal (JSX).
   - `config` (optional): An object for customization (e.g., `isCloseable`).

   ```jsx
   const openMoal = useFancyModalStore((state) => state.openModal);
   const closeModal = useFancyModalStore((state) => state.closeModal);

   const openModalHandler = () => {
     openModal(
       'myUniqueModalId',
       <div>
         <FancyTextInput label="Email" />
         <FancyButton onClick={() => closeModal('myUniqueModalId')} label="Close Modal" />
       </div>,
       { isCloseable: false } // Example configuration
     );
   };
   ```

3. **Close the Modal:**

   Invoke `closeModal` with the unique `id` of the modal you want to close. (This is already handled within the button in the example above.)

<Canvas />

### Configuration Options

You can still customize the `FancyModal` using the `config` object passed to `openModal`. For example:

- `isCloseable`: Determines if users can manually close the modal.

  ```jsx
  const config = {
  backDrop?: boolean; // default is true
  onClose?: (id: string) => void;
  isCloseable?: boolean; // is the modal closeable by the user
  themeType?: TUiColorsNotTransparent;
  layer?: TLayer;
  }
  ```

### Conclusion

The `createFancyModalStore` function now gives you more flexibility to manage multiple modal instances within your application. This enhanced architecture simplifies modal implementation and provides a cleaner, more scalable approach.

```

```
